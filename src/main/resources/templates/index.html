<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <title>Convert coordinates</title>
    <style>
        #map {
            height: 400px;
            width: 800px;
        }
    </style>
</head>
<body>
<form style="padding: 10px" action="/" method="post">

    <h3>Wprowadź koordynaty:</h3>
    <textarea th:text="${@converter.getOriginalCoordinates()}" rows="4" style="width: 100%; height: 100px" type="text"
              name="coordinates"></textarea>
    <button>Konwertuj</button>
    <input name="order" type="checkbox" value="change"> zamień kolejność lat/long
</form>


<div style="padding: 10px">
    <H3 th:text="${message}"></H3>

    <p th:text="${'Długość geometrii: '+@converter.length + 'm.'}"></p>

    <h4>WKT </h4>
    <p th:text="${@converter.geometry}"></p>

    <h4>WGS 84</h4>
    <p th:text="${@converter.wgsCoordinates}"></p>

    <h4>Geometria XML</h4>
    <p th:text="${@converter.xmlCoordinates}"></p>

    <h4>Geometria CoreDB</h4>
    <p th:text="${@converter.coreDBCoordinates}"></p>

    <h4>Koordynaty dla Cartopii</h4>
    <div th:each="item : ${@converter.cartopiaCoordinates}">
        <p th:text="${item}"></p>
    </div>
</div>

<div id="map"></div>
<script>
    // Initialize and add the map
    function initMap() {
        // The location of Uluru
        var flightPlanCoordinates = [
            {lat: 37.772, lng: -122.214},
            {lat: 21.291, lng: -157.821},
            {lat: -18.142, lng: 178.431},
            {lat: -27.467, lng: 153.027}
        ];
        var flightPath = new google.maps.Polyline({
            path: flightPlanCoordinates,
            geodesic: true,
            strokeColor: '#FF0000',
            strokeOpacity: 1.0,
            strokeWeight: 2
        });
        // The map, centered at Uluru
        var map = new google.maps.Map(
            document.getElementById('map'), {zoom: 4, center: {lat: 0, lng: -180}, path: flightPath});
        // The marker, positioned at Uluru
        var marker = new google.maps.Marker({position: {lat: 0, lng: -180}, map: map});
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBalrjpIZZuezIc0Qem3S-Wl2fMluBXQJY&callback=initMap">
</script>
</body>
</html>